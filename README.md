# üìç Monitor de Licita√ß√µes do PNCP

**Automatize o Monitoramento de Licita√ß√µes de Obras em Todo o Brasil**

Um sistema robusto e escal√°vel para monitorar licita√ß√µes de obras p√∫blicas atrav√©s da API do Portal Nacional de Contrata√ß√µes P√∫blicas (PNCP) em tempo real, com filtros inteligentes, geolocaliza√ß√£o e integra√ß√£o com ferramentas de gest√£o de tarefas.

---

## üéØ Funcionalidades em Destaque

- **üîç Busca Automatizada** - Consulta cont√≠nua da API PNCP para identificar novas licita√ß√µes
- **üéØ Filtragem Inteligente** - Sistema de 3 n√≠veis (servi√ßo, contexto, exclus√µes) para refinar resultados
- **üó∫Ô∏è Filtro Geogr√°fico** - Busca por dist√¢ncia em rela√ß√£o a cidades de interesse (ex: 200km, 300km)
- **üìä Gera√ß√£o de Relat√≥rios** - Exporta√ß√£o em JSON, CSV e XLSX para an√°lise
- **üìà Informa√ß√µes Detalhadas** - Acesso aos dados completos de cada licita√ß√£o
- **üîó Integra√ß√£o Extens√≠vel** - Suporte para ClickUp, webhooks e outras ferramentas
- **‚è∞ Monitoramento em Tempo Real** - Alertas para novas oportunidades conforme surgem

---

## üíº Casos de Uso Reais

- **Monitoramento Regional** - Acompanhe 50+ cidades em raio de 300km
- **Alertas por Setor** - Receba notifica√ß√µes apenas de licita√ß√µes relacionadas ao seu neg√≥cio
- **Integra√ß√£o com Task Managers** - Crie automaticamente tarefas no ClickUp
- **An√°lise Hist√≥rica** - Acesse dados hist√≥ricos para identificar padr√µes e tend√™ncias
- **Relat√≥rios Gerenciais** - Gere planilhas consolidadas para apresenta√ß√µes

---

## üìã Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado:

- **Python 3.7+** - [Download Python](https://www.python.org/downloads/)
- **Node.js 14+** (opcional, apenas para backend) - [Download Node.js](https://nodejs.org/)
- **Git** - [Download Git](https://git-scm.com/)
- **pip** - Gerenciador de pacotes Python (inclu√≠do com Python)

---

## üöÄ Instala√ß√£o R√°pida (5 Passos)

### 1. Clonar o Reposit√≥rio

```bash
git clone https://github.com/rodrigochavesoa/monitor_licitacoes.git
cd monitor_licitacoes
```

### 2. Criar Ambiente Virtual

**Windows (PowerShell):**
```powershell
python -m venv venv
.\venv\Scripts\Activate.ps1
```

**macOS/Linux:**
```bash
python3 -m venv venv
source venv/bin/activate
```

### 3. Instalar Depend√™ncias Python

```bash
pip install -r requirements.txt
```

> **Nota:** Este comando instalar√° todas as bibliotecas necess√°rias, incluindo `python-dotenv` para carregar configura√ß√µes do arquivo `.env`.

### 4. Instalar Depend√™ncias Node.js (Opcional)

```bash
npm install
```

### 5. Configurar Vari√°veis de Ambiente

```bash
# Copiar template de ambiente
cp .env.example .env

# Editar o arquivo .env com seus valores
```

---

## ‚öôÔ∏è Guia de Configura√ß√£o Detalhado

### 1. Preparar o Arquivo `.env`

Abra o arquivo `.env` e configure as vari√°veis principais:

```env
# Dias a buscar no passado
DIAS_DE_BUSCA=1

# Estado alvo (sigla)
UF=BA

# Estado alvo (nome completo)
ESTADO=Bahia

# ClickUp (opcional)
CLICKUP_TOKEN=seu_token_aqui
CLICKUP_LIST_ID=seu_list_id_aqui

# Servidor backend
PORT=3001
```

### 2. Preparar Dados Geogr√°ficos

O projeto j√° inclui dados de exemplo de **Bahia** e **Sergipe**. Para usar dados de outro estado:

#### Op√ß√£o A: Usar Dados Existentes (Bahia)
Nenhuma configura√ß√£o necess√°ria - os dados j√° est√£o prontos em `malhas_municipais/Bahia/`

#### Op√ß√£o B: Gerar Dados para Novo Estado

```bash
# Executar script para identificar cidades pr√≥ximas
python identificar_cidades.py
```

Este script:
- L√™ os arquivos shapefile da pasta `malhas_municipais/<ESTADO>/`
- Gera `cidades_alvo.csv` com as cidades priorit√°rias
- Pode incluir filtros de dist√¢ncia (200km, 300km, etc.)

### 3. Personalizar Filtros de Busca

Os filtros de licita√ß√£o s√£o totalmente personaliz√°veis atrav√©s do arquivo `.env`, **sem necessidade de editar c√≥digo Python**. Isso permite adaptar o sistema para diferentes segmentos de neg√≥cio.

#### Como Funciona o Sistema de Filtros

O sistema utiliza **3 n√≠veis de filtragem** para refinar os resultados:

**üìã Abra o arquivo `.env` e localize a se√ß√£o de filtros:**

```env
# GRUPO_SERVICO: Palavras que descrevem o tipo de servi√ßo/produto
# A licita√ß√£o PRECISA conter pelo menos UMA destas palavras
GRUPO_SERVICO=pavimenta√ß√£o,reforma,constru√ß√£o,obra,infraestrutura

# GRUPO_CONTEXTO: Palavras que confirmam o contexto de contrata√ß√£o
# A licita√ß√£o PRECISA conter pelo menos UMA destas palavras
GRUPO_CONTEXTO=engenharia,execu√ß√£o de,m√£o de obra

# GRUPO_EXCLUSAO: Palavras que descartam a licita√ß√£o
# Se a licita√ß√£o contiver QUALQUER uma destas palavras, ser√° DESCARTADA
GRUPO_EXCLUSAO=consultoria,software,treinamento,ve√≠culo
```

#### Exemplos de Filtros para Diferentes Segmentos

**üèóÔ∏è Obras de Engenharia Civil (Padr√£o):**
```env
GRUPO_SERVICO=pavimenta√ß√£o,paralelep√≠pedo,reforma,amplia√ß√£o,constru√ß√£o,edifica√ß√£o,obra
GRUPO_CONTEXTO=engenharia,servi√ßos de engenharia,execu√ß√£o de,m√£o de obra
GRUPO_EXCLUSAO=fotogr√°ficos,consultoria,software,material de consumo
```

**üõ†Ô∏è Produtos/Equipamentos de Engenharia:**
```env
GRUPO_SERVICO=aquisi√ß√£o,fornecimento,compra,equipamento,material,ferramenta
GRUPO_CONTEXTO=material,produto,equipamento,fornecimento de,aquisi√ß√£o de
GRUPO_EXCLUSAO=servi√ßo de,m√£o de obra,consultoria,obra,constru√ß√£o
```

**üè• Sa√∫de e Hospitalar:**
```env
GRUPO_SERVICO=medicamento,equipamento m√©dico,material hospitalar,insumo,vacina
GRUPO_CONTEXTO=hospital,cl√≠nica,sa√∫de,posto de sa√∫de,unidade b√°sica
GRUPO_EXCLUSAO=obra,constru√ß√£o,reforma,pavimenta√ß√£o
```

**üíª TI e Tecnologia:**
```env
GRUPO_SERVICO=software,hardware,sistema,aplicativo,equipamento de inform√°tica
GRUPO_CONTEXTO=tecnologia da informa√ß√£o,TI,sistema de,software de
GRUPO_EXCLUSAO=obra,constru√ß√£o,material de consumo
```

> **üí° Dica:** Sempre use palavras em **min√∫sculas** e separe-as por **v√≠rgula** sem espa√ßos extras.

#### Modalidades de Licita√ß√£o (Filtros Avan√ßados)

> **Nota:** O sistema busca apenas as modalidades mais comuns e relevantes para obras p√∫blicas:
> - Preg√£o Eletr√¥nico
> - Concorr√™ncia Eletr√¥nica
> - Concorr√™ncia Presencial
> - Dispensa de Licita√ß√£o
> - Inexigibilidade

Essas modalidades s√£o definidas na lista `MODALIDADES_INTERESSE` no in√≠cio do arquivo `monitor_licitacoesv2.py`:

```python
MODALIDADES_INTERESSE = [
    6,  # Preg√£o - Eletr√¥nico
    4,  # Concorr√™ncia - Eletr√¥nica
    5,  # Concorr√™ncia - Presencial
    8,  # Dispensa de Licita√ß√£o
    9   # Inexigibilidade
]
```

Existem outras modalidades dispon√≠veis no PNCP, conforme o manual oficial. Se desejar incluir ou remover modalidades, basta editar essa lista conforme sua necessidade.

### Sistema de 3 N√≠veis - Fluxo Visual

```
Busca na API PNCP
        ‚Üì
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ N√≠vel 1: GRUPO_SERVICO            ‚îÇ
‚îÇ ‚úì Cont√©m "Reforma" OU             ‚îÇ
‚îÇ ‚úì Cont√©m "Constru√ß√£o"             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚Üì (passa filtro)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ N√≠vel 2: GRUPO_CONTEXTO           ‚îÇ
‚îÇ ‚úì √â "Municipal" OU "Estadual"     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚Üì (passa filtro)
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ N√≠vel 3: GRUPO_EXCLUSAO           ‚îÇ
‚îÇ ‚úó N√£o cont√©m "Consultoria"        ‚îÇ
‚îÇ ‚úó N√£o cont√©m "Projeto"            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚Üì
   ‚úÖ RESULTADO FINAL
```

---

## üìñ Como Usar

### Execu√ß√£o B√°sica

```bash
# Ativar ambiente virtual
.\venv\Scripts\Activate.ps1  # Windows
source venv/bin/activate     # macOS/Linux

# Executar monitor
python monitor_licitacoesv2.py
```

### Scripts Utilit√°rios

#### 1. Converter Dados Geogr√°ficos
```bash
python shpforcsv.py
```
Converte arquivos shapefile para CSV

#### 2. Identificar Cidades por Proximidade
```bash
python identificar_cidades.py
```
Gera arquivo `cidades_alvo.csv` com cidades pr√≥ximas

#### 3. Converter CSV para JSON
```bash
python csvforjson.py
```
Converte dados em CSV para formato JSON

#### 4. Converter Licita√ß√µes
```bash
python conversao_conlicitacoes.py
```
Converte licita√ß√µes exportadas do Portal Conlicita√ß√£o para o formato aceito pelo sistema.

**Como funciona:**
1. Acesse o [Portal Conlicita√ß√£o](https://conlicitacao.com.br) e fa√ßa login na sua conta (√© necess√°rio ter assinatura ativa).
2. Gere o boletim de licita√ß√µes desejado e exporte o arquivo em formato `.xlsx` pelo pr√≥prio portal.
3. Coloque o arquivo `.xlsx` gerado na pasta `licitacoes_xlsx/` do projeto.
4. Execute o comando acima para converter o arquivo para `.json` no formato compat√≠vel com o sistema.
5. O arquivo `.json` gerado pode ser utilizado, por exemplo, para alimentar o painel web `wp7licitacoes.html`.

> ‚ö†Ô∏è **Importante:** O Portal Conlicita√ß√£o exige assinatura para acessar e exportar os boletins. O sistema n√£o faz download autom√°tico, apenas converte arquivos j√° exportados.

#### 5. Iniciar Servidor Backend
```bash
node server.js
```
Inicia servidor Express na porta configurada (padr√£o: 3001)

### Exemplo de Sa√≠da

Ap√≥s executar o monitor, voc√™ ver√°:

```json
{
  "id": "123456",
  "orgao": "Prefeitura de Salvador",
  "objeto": "Reforma de escola",
  "valor": 150000.00,
  "data_publicacao": "2025-10-27",
  "data_limite": "2025-11-10",
  "status": "Aberta",
  "cidade": "Salvador",
  "distancia_km": 0.0,
  "url": "https://pncp.gov.br/..."
}
```

---

## üîå Integra√ß√£o com ClickUp (Opcional)

### Pr√©-requisitos

1. **Conta ClickUp** - [Criar conta gr√°tis](https://clickup.com)
2. **API Token** - Gerar em https://app.clickup.com/api_token
3. **ID da Lista** - Encontrar em URL: `app.clickup.com/list/<LIST_ID>`

### Configura√ß√£o

1. Abra o arquivo `.env` e configure:
```env
CLICKUP_TOKEN=pk_xxxxxxxxxxxxx
CLICKUP_LIST_ID=123456789
```

2. Execute o servidor:
```bash
node server.js
```

3. As novas licita√ß√µes ser√£o criadas automaticamente como tarefas no ClickUp

### Como Funciona

```
monitor_licitacoesv2.py (detecta nova licita√ß√£o)
            ‚Üì
    server.js (backend)
            ‚Üì
    API ClickUp (cria tarefa)
            ‚Üì
  ‚úÖ Tarefa aparece no ClickUp
```

---

## üìÅ Estrutura de Diret√≥rios

```
monitor_licitacoes/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ monitor_licitacoesv2.py          ‚≠ê Script principal
‚îú‚îÄ‚îÄ üìÑ server.js                        ‚≠ê Backend opcional
‚îú‚îÄ‚îÄ üìÑ identificar_cidades.py           Identificar cidades por dist√¢ncia
‚îú‚îÄ‚îÄ üìÑ shpforcsv.py                     Converter shapefile para CSV
‚îú‚îÄ‚îÄ üìÑ csvforjson.py                    Converter CSV para JSON
‚îú‚îÄ‚îÄ üìÑ conversao_conlicitacoes.py       Converter licita√ß√µes
‚îÇ
‚îú‚îÄ‚îÄ .gitignore                          Configura√ß√µes do Git
‚îú‚îÄ‚îÄ .env.example                        Template de vari√°veis
‚îú‚îÄ‚îÄ requirements.txt                    Depend√™ncias Python
‚îú‚îÄ‚îÄ package.json                        Depend√™ncias Node.js
‚îú‚îÄ‚îÄ readme.md                           üìñ Este arquivo
‚îÇ
‚îú‚îÄ‚îÄ data/                               üìÅ Dados gerados (JSON)
‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep
‚îÇ   ‚îî‚îÄ‚îÄ (boletins_*.json, etc)
‚îÇ
‚îú‚îÄ‚îÄ licitacoes_xlsx/                    üìÅ Planilhas geradas
‚îÇ   ‚îú‚îÄ‚îÄ .gitkeep
‚îÇ   ‚îî‚îÄ‚îÄ xlsx_processados/
‚îÇ       ‚îî‚îÄ‚îÄ .gitkeep
‚îÇ
‚îî‚îÄ‚îÄ malhas_municipais/                  üìÅ Dados geogr√°ficos
    ‚îú‚îÄ‚îÄ Bahia/
    ‚îÇ   ‚îú‚îÄ‚îÄ BA_Municipios_2024.shp      Arquivo shapefile
    ‚îÇ   ‚îú‚îÄ‚îÄ BA_Municipios_2024.dbf
    ‚îÇ   ‚îú‚îÄ‚îÄ BA_Municipios_2024.shx
    ‚îÇ   ‚îú‚îÄ‚îÄ municipios_Bahia.csv        CSV de refer√™ncia
    ‚îÇ   ‚îî‚îÄ‚îÄ (mais arquivos shapefile)
    ‚îÇ
    ‚îî‚îÄ‚îÄ Sergipe/
        ‚îú‚îÄ‚îÄ SE_Municipios_2024.shp
        ‚îî‚îÄ‚îÄ municipios_Sergipe.csv
```

**Explica√ß√£o de Diret√≥rios:**

| Diret√≥rio | Prop√≥sito |
|-----------|----------|
| `data/` | Armazena JSONs com licita√ß√µes capturadas |
| `licitacoes_xlsx/` | Armazena exporta√ß√µes em XLSX |
| `malhas_municipais/` | Dados geogr√°ficos (shapefiles, municipios) |

---

## ÔøΩÔ∏è Identificar Cidades-Alvo por Proximidade

### üéØ O que √© o Script `identificar_cidades.py`?

Este script identifica automaticamente todas as cidades dentro de um raio espec√≠fico a partir de uma cidade sede. **Permite buscar em m√∫ltiplos estados simultaneamente**, perfeito para monitorar oportunidades de licita√ß√£o em uma regi√£o geogr√°fica.

### ‚öôÔ∏è Configura√ß√£o

Abra o arquivo `identificar_cidades.py` e configure:

#### 1. Cidade Sede (sua empresa)
```python
ESTADO_SEDE = 'Bahia'
NOME_CIDADE_SEDE = 'Serrinha'
```

#### 2. Estados onde buscar cidades-alvo

**Um √∫nico estado:**
```python
ESTADOS_ALVO = ['Sergipe']
```

**M√∫ltiplos estados:**
```python
ESTADOS_ALVO = ['Sergipe', 'Bahia', 'SaoPaulo']
```

#### 3. Raios de Busca
```python
RAIO_MIN_KM = 5          # Dist√¢ncia m√≠nima
RAIO_MAX_KM = 400        # Dist√¢ncia m√°xima
LIMITE_CIDADES = None    # Sem limite (todas as cidades)
# ou
LIMITE_CIDADES = 50      # Apenas 50 cidades mais pr√≥ximas
```

### üìÇ Estrutura de Arquivos Necess√°ria

Para cada estado que voc√™ quer buscar, **DEVE existir** esta estrutura:

```
malhas_municipais/
‚îú‚îÄ‚îÄ Bahia/
‚îÇ   ‚îî‚îÄ‚îÄ municipios_Bahia.csv
‚îú‚îÄ‚îÄ Sergipe/
‚îÇ   ‚îî‚îÄ‚îÄ municipios_Sergipe.csv
‚îî‚îÄ‚îÄ SaoPaulo/
    ‚îî‚îÄ‚îÄ municipios_SaoPaulo.csv
```

### üìã Formato do CSV (obrigat√≥rio)

Cada arquivo CSV **DEVE** conter estas colunas:
- `CD_MUN` - C√≥digo IBGE do munic√≠pio
- `NM_MUN` - Nome do munic√≠pio
- `latitude` - Latitude
- `longitude` - Longitude

**Exemplo:**
```csv
CD_MUN,NM_MUN,latitude,longitude
2930501,Serrinha,-11.665667104222422,-38.99379057060335
2930105,Salvador,-12.971388888888889,-38.501666666666665
```

### üöÄ Como Executar

```bash
# Ativar ambiente
.\venv\Scripts\Activate.ps1

# Executar
python identificar_cidades.py
```

### üìä Arquivos Gerados

O script cria:

1. **Arquivo Consolidado:**
   ```
   malhas_municipais/cidades_alvo_consolidado.csv
   ```
   Cont√©m: `codigo_ibge`, `nome_municipio`, `estado`, `distancia`

2. **Arquivos por Estado:**
   ```
   malhas_municipais/Sergipe/cidades_alvo.csv
   malhas_municipais/Bahia/cidades_alvo.csv
   ```
   Cont√©m: `codigo_ibge`, `nome_municipio`

### ‚ùì FAQ - Script de Cidades

**P: E se colocar um estado que n√£o tem arquivo CSV?**

R: O script detecta, mostra um aviso e continua com os outros estados:
```
‚ö†Ô∏è  AVISO: Arquivo n√£o encontrado. Pulando estado SaoPaulo.
```

**P: Posso adicionar novos estados depois?**

R: Sim! Basta:
1. Criar pasta em `malhas_municipais/<ESTADO>/`
2. Adicionar arquivo `municipios_<ESTADO>.csv` com as colunas corretas
3. Adicionar estado na lista `ESTADOS_ALVO`

**P: Posso usar a mesma cidade sede em estado diferente do alvo?**

R: **SIM!** Esse √© exatamente o prop√≥sito:
- Sede em **Serrinha (Bahia)**
- Buscar cidades em **Sergipe, Pernambuco, Alagoas**, etc.

### üìù Exemplos de Uso

**Exemplo 1: Apenas Sergipe**
```python
ESTADO_SEDE = 'Bahia'
NOME_CIDADE_SEDE = 'Serrinha'
ESTADOS_ALVO = ['Sergipe']
RAIO_MIN_KM = 5
RAIO_MAX_KM = 400
```

**Exemplo 2: M√∫ltiplos Estados**
```python
ESTADOS_ALVO = ['Sergipe', 'Bahia', 'Pernambuco']
```

**Exemplo 3: Apenas 50 Cidades Mais Pr√≥ximas**
```python
ESTADOS_ALVO = ['Sergipe', 'Bahia', 'Pernambuco']
RAIO_MIN_KM = 5
RAIO_MAX_KM = 500
LIMITE_CIDADES = 50
```

### üõ†Ô∏è Valida√ß√µes Autom√°ticas

O script valida:
- ‚úÖ Exist√™ncia dos arquivos CSV
- ‚úÖ Presen√ßa das colunas obrigat√≥rias
- ‚úÖ Coordenadas v√°lidas
- ‚úÖ Cidade sede existe no arquivo

---

## üîß Troubleshooting

### Problema: `ModuleNotFoundError: No module named 'requests'`

**Solu√ß√£o:**
```bash
pip install -r requirements.txt
```

### Problema: `ModuleNotFoundError: No module named 'dotenv'`

**Solu√ß√£o:**
```bash
pip install python-dotenv
```

### Problema: Filtros n√£o est√£o funcionando / Nenhuma licita√ß√£o encontrada

**Poss√≠veis causas:**

1. **Filtros muito restritivos**
   - Verifique se as palavras no `.env` est√£o corretas e em min√∫sculas
   - Tente ampliar o `GRUPO_SERVICO` e `GRUPO_CONTEXTO`
   - Reduza ou remova palavras do `GRUPO_EXCLUSAO`

2. **Arquivo `.env` n√£o existe**
   ```bash
   cp .env.example .env
   # Edite o .env com seus valores
   ```

3. **Sistema usando filtros padr√£o**
   - Se aparecer a mensagem "‚ö†Ô∏è  AVISO: Filtros n√£o encontrados no .env"
   - Verifique se o arquivo `.env` est√° na raiz do projeto
   - Confirme que as vari√°veis `GRUPO_SERVICO`, `GRUPO_CONTEXTO` e `GRUPO_EXCLUSAO` est√£o definidas

**Como testar seus filtros:**
```bash
# Ative o ambiente
.\venv\Scripts\Activate.ps1

# Execute o monitor e observe as mensagens
python monitor_licitacoesv2.py
```

### Problema: `FileNotFoundError: .env`

**Solu√ß√£o:**
```bash
pip install -r requirements.txt
```

### Problema: `FileNotFoundError: .env`

**Solu√ß√£o:**
```bash
cp .env.example .env
# Editar .env com seus valores
```

### Problema: API PNCP retorna erro 403

**Solu√ß√£o:**
- Aguarde alguns minutos (limite de taxa)
- Verifique conex√£o com internet
- Confirme que a API est√° dispon√≠vel em https://pncp.gov.br

### Problema: ClickUp n√£o cria tarefas

**Solu√ß√£o:**
1. Verifique se `CLICKUP_TOKEN` est√° correto
2. Verifique se `CLICKUP_LIST_ID` √© v√°lido
3. Teste o token: https://clickup.com/api
4. Verifique logs do servidor: `node server.js`

### Problema: Dados geogr√°ficos n√£o funcionam

**Solu√ß√£o:**
1. Confirme que shapefile existe em `malhas_municipais/<ESTADO>/`
2. Execute `python shpforcsv.py` para converter
3. Verifique se `identificar_cidades.py` gera `cidades_alvo.csv`

---

## üìö Refer√™ncias √öteis

| Recurso | Link |
|---------|------|
| Portal PNCP | https://pncp.gov.br |
| Documenta√ß√£o API PNCP | https://www.gov.br/pncp/pt-br/central-de-conteudo/manuais |
| ClickUp API | https://clickup.com/api |
| Biblioteca Geopy | https://geopy.readthedocs.io |
| IBGE Dados Municipais | https://www.ibge.gov.br |
| Python Documentation | https://docs.python.org |
| Express.js Guide | https://expressjs.com |

---

## üìä Exemplo de Uso Completo

### 1. Primeiras Execu√ß√µes

```bash
# Ativar ambiente
.\venv\Scripts\Activate.ps1

# Executar primeira busca
python monitor_licitacoesv2.py

# Verificar resultados em data/
```

### 2. Configurar Integra√ß√£o com ClickUp

```bash
# Editar .env com seus tokens
code .env

# Iniciar servidor
node server.js

# Em outro terminal, rodar monitor
python monitor_licitacoesv2.py
```

### 3. Gerar Relat√≥rios

```bash
# Converter dados para Excel
python csvforjson.py

# Arquivo estar√° em licitacoes_xlsx/
```

---

## üìÑ Licen√ßa

Este projeto est√° licenciado sob a **MIT License** - veja o arquivo [LICENSE](LICENSE) para detalhes.

---

## üë®‚Äçüíº Autor

Desenvolvido por **rodrigochavesoa**

- üêô GitHub: [@rodrigochavesoa](https://github.com/rodrigochavesoa)
- üìß Email: [pontochavedesign@gmail.com](mailto:pontochavedesign@gmail.com)

---

## ü§ù Contribui√ß√µes

Contribui√ß√µes s√£o bem-vindas! Para reportar bugs ou sugerir melhorias:

1. Abra uma [Issue](https://github.com/rodrigochavesoa/monitor_licitacoes/issues)
2. Fa√ßa um Fork do projeto
3. Crie uma branch para sua feature (`git checkout -b feature/MinhaFeature`)
4. Commit suas mudan√ßas (`git commit -m 'Adiciona MinhaFeature'`)
5. Push para a branch (`git push origin feature/MinhaFeature`)
6. Abra um Pull Request

---

## ‚≠ê Curtiu o Projeto?

Se este projeto foi √∫til para voc√™, deixe uma ‚≠ê no GitHub!

**[‚≠ê Deixe uma estrela no GitHub](https://github.com/rodrigochavesoa/monitor_licitacoes)**

---

## üìû Suporte

Tem d√∫vidas? Abra uma [Discussion](https://github.com/rodrigochavesoa/monitor_licitacoes/discussions) ou [Issue](https://github.com/rodrigochavesoa/monitor_licitacoes/issues)

---

**Last Updated:** Outubro de 2025  
**Status:** ‚úÖ Ativo e em desenvolvimento

Estrutura dos Arquivos
identificar_cidades.py: Script para encontrar as cidades-alvo.

monitor_licitacoesv2.py: Script principal que busca as licita√ß√µes.

municipios_bahia.csv: Arquivo de dados com o nome e as coordenadas de todos os munic√≠pios da Bahia.

requirements.txt: Lista de bibliotecas Python necess√°rias.

cidades_alvo.txt: (Gerado) Arquivo com a lista das cidades a serem monitoradas.

licitacoes_encontradas_*.csv: (Gerado) Relat√≥rio com as licita√ß√µes encontradas.
